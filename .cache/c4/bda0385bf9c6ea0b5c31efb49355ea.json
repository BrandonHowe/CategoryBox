{"id":"../node_modules/@thi.ng/hdom/start.js","dependencies":[{"name":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\package.json","includedInParent":true,"mtime":1602877770427},{"name":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hdom\\package.json","includedInParent":true,"mtime":1602877541104},{"name":"@thi.ng/hiccup","loc":{"line":1,"column":29},"parent":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hdom\\start.js","resolved":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hiccup\\index.js"},{"name":"./default","loc":{"line":2,"column":29},"parent":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hdom\\start.js","resolved":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hdom\\default.js"},{"name":"./utils","loc":{"line":3,"column":28},"parent":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hdom\\start.js","resolved":"C:\\Users\\Brandon 2\\Documents\\Projects\\categorytheory\\node_modules\\@thi.ng\\hdom\\utils.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.start = void 0;\n\nvar _hiccup = require(\"@thi.ng/hiccup\");\n\nvar _default = require(\"./default\");\n\nvar _utils = require(\"./utils\");\n\n/**\n * Takes an hiccup tree (array, function or component object w/ life\n * cycle methods) and an optional object of DOM update options. Starts\n * RAF update loop, in each iteration first normalizing given tree, then\n * computing diff to previous frame's tree and applying any changes to\n * the real DOM. The `ctx` option can be used for passing arbitrary\n * config data or state down into the hiccup component tree. Any\n * embedded component function in the tree will receive this context\n * object (shallow copy) as first argument, as will life cycle methods\n * in component objects. If the `autoDerefKeys` option is given,\n * attempts to auto-expand/deref the given keys in the user supplied\n * context object (`ctx` option) prior to *each* tree normalization. All\n * of these values should implement the {@link @thi.ng/api#IDeref}\n * interface (e.g. atoms, cursors, views, rstreams etc.). This feature\n * can be used to define dynamic contexts linked to the main app state,\n * e.g. using derived views provided by {@link @thi.ng/atom# | @thi.ng/atom}.\n *\n * **Selective updates**: No updates will be applied if the given hiccup\n * tree is `undefined` or `null` or a root component function returns no\n * value. This way a given root function can do some state handling of\n * its own and implement fail-fast checks to determine no DOM updates\n * are necessary, save effort re-creating a new hiccup tree and request\n * skipping DOM updates via this function. In this case, the previous\n * DOM tree is kept around until the root function returns a tree again,\n * which then is diffed and applied against the previous tree kept as\n * usual. Any number of frames may be skipped this way.\n *\n * **Important:** Unless the `hydrate` option is enabled, the parent\n * element given is assumed to have NO children at the time when\n * `start()` is called. Since hdom does NOT track the real DOM, the\n * resulting changes will result in potentially undefined behavior if\n * the parent element wasn't empty. Likewise, if `hydrate` is enabled,\n * it is assumed that an equivalent DOM (minus listeners) already exists\n * (i.e. generated via SSR) when `start()` is called. Any other\n * discrepancies between the pre-existing DOM and the hdom trees will\n * cause undefined behavior.\n *\n * Returns a function, which when called, immediately cancels the update\n * loop.\n *\n * @param tree - hiccup DOM tree\n * @param opts - options\n * @param impl - hdom target implementation\n */\nconst start = (tree, opts = {}, impl = _default.DEFAULT_IMPL) => {\n  const _opts = Object.assign({\n    root: \"app\"\n  }, opts);\n\n  let prev = [];\n  let isActive = true;\n  const root = (0, _utils.resolveRoot)(_opts.root, impl);\n\n  const update = () => {\n    if (isActive) {\n      _opts.ctx = (0, _hiccup.derefContext)(opts.ctx, _opts.autoDerefKeys);\n      const curr = impl.normalizeTree(_opts, tree);\n\n      if (curr != null) {\n        if (_opts.hydrate) {\n          impl.hydrateTree(_opts, root, curr);\n          _opts.hydrate = false;\n        } else {\n          impl.diffTree(_opts, root, prev, curr);\n        }\n\n        prev = curr;\n      } // check again in case one of the components called cancel\n\n\n      isActive && requestAnimationFrame(update);\n    }\n  };\n\n  requestAnimationFrame(update);\n  return () => isActive = false;\n};\n\nexports.start = start;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":3,"column":0}},{"generated":{"line":14,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":4,"column":0}},{"generated":{"line":58,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":7}},{"name":"start","generated":{"line":58,"column":6},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":13}},{"generated":{"line":58,"column":11},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":18}},{"generated":{"line":58,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":21}},{"name":"tree","generated":{"line":58,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":22}},{"generated":{"line":58,"column":19},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":21}},{"name":"opts","generated":{"line":58,"column":21},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":28}},{"generated":{"line":58,"column":25},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":32}},{"generated":{"line":58,"column":28},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":35}},{"generated":{"line":58,"column":30},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":21}},{"name":"impl","generated":{"line":58,"column":32},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":39}},{"generated":{"line":58,"column":36},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":43}},{"name":"DEFAULT_IMPL","generated":{"line":58,"column":39},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":46}},{"generated":{"line":58,"column":60},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":21}},{"generated":{"line":58,"column":65},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":63}},{"generated":{"line":59,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":4}},{"name":"_opts","generated":{"line":59,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":10}},{"generated":{"line":59,"column":13},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":15}},{"name":"Object","generated":{"line":59,"column":16},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":18}},{"generated":{"line":59,"column":22},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":24}},{"name":"assign","generated":{"line":59,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":25}},{"generated":{"line":59,"column":29},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":18}},{"generated":{"line":59,"column":30},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":32}},{"name":"root","generated":{"line":60,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":34}},{"name":"root","generated":{"line":60,"column":4},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":34}},{"generated":{"line":60,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":38}},{"generated":{"line":60,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":40}},{"generated":{"line":61,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":32}},{"generated":{"line":61,"column":3},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":18}},{"name":"opts","generated":{"line":61,"column":5},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":49}},{"generated":{"line":61,"column":9},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":18}},{"generated":{"line":61,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":49,"column":4}},{"generated":{"line":63,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":50,"column":4}},{"name":"prev","generated":{"line":63,"column":6},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":50,"column":8}},{"generated":{"line":63,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":50,"column":12}},{"generated":{"line":63,"column":13},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":50,"column":15}},{"generated":{"line":63,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":50,"column":4}},{"generated":{"line":64,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":51,"column":4}},{"name":"isActive","generated":{"line":64,"column":6},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":51,"column":8}},{"generated":{"line":64,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":51,"column":16}},{"generated":{"line":64,"column":17},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":51,"column":19}},{"generated":{"line":64,"column":21},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":51,"column":4}},{"generated":{"line":65,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":4}},{"name":"root","generated":{"line":65,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":10}},{"generated":{"line":65,"column":12},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":14}},{"generated":{"line":65,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":17}},{"name":"_opts","generated":{"line":65,"column":39},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":29}},{"generated":{"line":65,"column":44},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":34}},{"name":"root","generated":{"line":65,"column":45},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":35}},{"generated":{"line":65,"column":49},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":17}},{"name":"impl","generated":{"line":65,"column":51},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":41}},{"generated":{"line":65,"column":55},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":17}},{"generated":{"line":65,"column":56},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":52,"column":4}},{"generated":{"line":67,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":53,"column":4}},{"name":"update","generated":{"line":67,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":53,"column":10}},{"generated":{"line":67,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":53,"column":16}},{"generated":{"line":67,"column":17},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":53,"column":19}},{"generated":{"line":67,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":53,"column":25}},{"generated":{"line":68,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":54,"column":8}},{"name":"isActive","generated":{"line":68,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":54,"column":12}},{"generated":{"line":68,"column":16},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":54,"column":8}},{"generated":{"line":68,"column":18},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":54,"column":22}},{"name":"_opts","generated":{"line":69,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":12}},{"name":"_opts","generated":{"line":69,"column":6},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":12}},{"generated":{"line":69,"column":11},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":17}},{"name":"ctx","generated":{"line":69,"column":12},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":18}},{"generated":{"line":69,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":12}},{"generated":{"line":69,"column":18},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":24}},{"name":"opts","generated":{"line":69,"column":44},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":37}},{"generated":{"line":69,"column":48},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":41}},{"name":"ctx","generated":{"line":69,"column":49},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":42}},{"generated":{"line":69,"column":52},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":24}},{"name":"_opts","generated":{"line":69,"column":54},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":47}},{"generated":{"line":69,"column":59},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":52}},{"name":"autoDerefKeys","generated":{"line":69,"column":60},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":53}},{"generated":{"line":69,"column":73},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":24}},{"generated":{"line":69,"column":74},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":55,"column":12}},{"generated":{"line":70,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":12}},{"name":"curr","generated":{"line":70,"column":12},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":18}},{"generated":{"line":70,"column":16},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":22}},{"name":"impl","generated":{"line":70,"column":19},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":25}},{"generated":{"line":70,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":29}},{"name":"normalizeTree","generated":{"line":70,"column":24},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":30}},{"generated":{"line":70,"column":37},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":25}},{"name":"_opts","generated":{"line":70,"column":38},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":44}},{"generated":{"line":70,"column":43},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":25}},{"name":"tree","generated":{"line":70,"column":45},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":51}},{"generated":{"line":70,"column":49},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":25}},{"generated":{"line":70,"column":50},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":56,"column":12}},{"generated":{"line":72,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":57,"column":12}},{"name":"curr","generated":{"line":72,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":57,"column":16}},{"generated":{"line":72,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":57,"column":20}},{"generated":{"line":72,"column":18},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":57,"column":24}},{"generated":{"line":72,"column":22},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":57,"column":12}},{"generated":{"line":72,"column":24},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":57,"column":30}},{"generated":{"line":73,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":16}},{"name":"_opts","generated":{"line":73,"column":12},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":20}},{"generated":{"line":73,"column":17},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":25}},{"name":"hydrate","generated":{"line":73,"column":18},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":26}},{"generated":{"line":73,"column":25},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":16}},{"generated":{"line":73,"column":27},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":35}},{"name":"impl","generated":{"line":74,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":20}},{"name":"impl","generated":{"line":74,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":20}},{"generated":{"line":74,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":24}},{"name":"hydrateTree","generated":{"line":74,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":25}},{"generated":{"line":74,"column":26},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":20}},{"name":"_opts","generated":{"line":74,"column":27},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":37}},{"generated":{"line":74,"column":32},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":20}},{"name":"root","generated":{"line":74,"column":34},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":44}},{"generated":{"line":74,"column":38},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":20}},{"name":"curr","generated":{"line":74,"column":40},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":50}},{"generated":{"line":74,"column":44},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":59,"column":20}},{"name":"_opts","generated":{"line":75,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":20}},{"name":"_opts","generated":{"line":75,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":20}},{"generated":{"line":75,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":25}},{"name":"hydrate","generated":{"line":75,"column":16},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":26}},{"generated":{"line":75,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":20}},{"generated":{"line":75,"column":26},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":36}},{"generated":{"line":75,"column":31},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":60,"column":20}},{"generated":{"line":76,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":61,"column":17}},{"generated":{"line":76,"column":9},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":58,"column":16}},{"generated":{"line":76,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":62,"column":21}},{"name":"impl","generated":{"line":77,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"name":"impl","generated":{"line":77,"column":10},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"generated":{"line":77,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":24}},{"name":"diffTree","generated":{"line":77,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":25}},{"generated":{"line":77,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"name":"_opts","generated":{"line":77,"column":24},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":34}},{"generated":{"line":77,"column":29},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"name":"root","generated":{"line":77,"column":31},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":41}},{"generated":{"line":77,"column":35},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"name":"prev","generated":{"line":77,"column":37},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":47}},{"generated":{"line":77,"column":41},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"name":"curr","generated":{"line":77,"column":43},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":53}},{"generated":{"line":77,"column":47},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":63,"column":20}},{"generated":{"line":78,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":64,"column":17}},{"name":"prev","generated":{"line":80,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":65,"column":16}},{"name":"prev","generated":{"line":80,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":65,"column":16}},{"generated":{"line":80,"column":12},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":65,"column":20}},{"name":"curr","generated":{"line":80,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":65,"column":23}},{"generated":{"line":80,"column":19},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":65,"column":16}},{"generated":{"line":81,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":66,"column":13}},{"generated":{"line":81,"column":7},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":54,"column":22}},{"generated":{"line":81,"column":8},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":67,"column":12}},{"name":"isActive","generated":{"line":84,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":12}},{"name":"isActive","generated":{"line":84,"column":6},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":12}},{"generated":{"line":84,"column":14},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":20}},{"name":"requestAnimationFrame","generated":{"line":84,"column":18},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":24}},{"generated":{"line":84,"column":39},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":45}},{"name":"update","generated":{"line":84,"column":40},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":46}},{"generated":{"line":84,"column":46},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":45}},{"generated":{"line":84,"column":47},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":68,"column":12}},{"generated":{"line":85,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":69,"column":9}},{"generated":{"line":86,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":70,"column":5}},{"generated":{"line":86,"column":3},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":53,"column":4}},{"name":"requestAnimationFrame","generated":{"line":88,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":71,"column":4}},{"name":"requestAnimationFrame","generated":{"line":88,"column":2},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":71,"column":4}},{"generated":{"line":88,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":71,"column":25}},{"name":"update","generated":{"line":88,"column":24},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":71,"column":26}},{"generated":{"line":88,"column":30},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":71,"column":25}},{"generated":{"line":88,"column":31},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":71,"column":4}},{"generated":{"line":89,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":72,"column":4}},{"generated":{"line":89,"column":9},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":72,"column":11}},{"name":"isActive","generated":{"line":89,"column":15},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":72,"column":18}},{"generated":{"line":89,"column":23},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":72,"column":26}},{"generated":{"line":89,"column":26},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":72,"column":29}},{"generated":{"line":89,"column":31},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":72,"column":4}},{"generated":{"line":90,"column":0},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":73,"column":1}},{"generated":{"line":90,"column":1},"source":"../node_modules/@thi.ng/hdom/start.js","original":{"line":48,"column":7}}],"sources":{"../node_modules/@thi.ng/hdom/start.js":"import { derefContext } from \"@thi.ng/hiccup\";\nimport { DEFAULT_IMPL } from \"./default\";\nimport { resolveRoot } from \"./utils\";\n/**\n * Takes an hiccup tree (array, function or component object w/ life\n * cycle methods) and an optional object of DOM update options. Starts\n * RAF update loop, in each iteration first normalizing given tree, then\n * computing diff to previous frame's tree and applying any changes to\n * the real DOM. The `ctx` option can be used for passing arbitrary\n * config data or state down into the hiccup component tree. Any\n * embedded component function in the tree will receive this context\n * object (shallow copy) as first argument, as will life cycle methods\n * in component objects. If the `autoDerefKeys` option is given,\n * attempts to auto-expand/deref the given keys in the user supplied\n * context object (`ctx` option) prior to *each* tree normalization. All\n * of these values should implement the {@link @thi.ng/api#IDeref}\n * interface (e.g. atoms, cursors, views, rstreams etc.). This feature\n * can be used to define dynamic contexts linked to the main app state,\n * e.g. using derived views provided by {@link @thi.ng/atom# | @thi.ng/atom}.\n *\n * **Selective updates**: No updates will be applied if the given hiccup\n * tree is `undefined` or `null` or a root component function returns no\n * value. This way a given root function can do some state handling of\n * its own and implement fail-fast checks to determine no DOM updates\n * are necessary, save effort re-creating a new hiccup tree and request\n * skipping DOM updates via this function. In this case, the previous\n * DOM tree is kept around until the root function returns a tree again,\n * which then is diffed and applied against the previous tree kept as\n * usual. Any number of frames may be skipped this way.\n *\n * **Important:** Unless the `hydrate` option is enabled, the parent\n * element given is assumed to have NO children at the time when\n * `start()` is called. Since hdom does NOT track the real DOM, the\n * resulting changes will result in potentially undefined behavior if\n * the parent element wasn't empty. Likewise, if `hydrate` is enabled,\n * it is assumed that an equivalent DOM (minus listeners) already exists\n * (i.e. generated via SSR) when `start()` is called. Any other\n * discrepancies between the pre-existing DOM and the hdom trees will\n * cause undefined behavior.\n *\n * Returns a function, which when called, immediately cancels the update\n * loop.\n *\n * @param tree - hiccup DOM tree\n * @param opts - options\n * @param impl - hdom target implementation\n */\nexport const start = (tree, opts = {}, impl = DEFAULT_IMPL) => {\n    const _opts = Object.assign({ root: \"app\" }, opts);\n    let prev = [];\n    let isActive = true;\n    const root = resolveRoot(_opts.root, impl);\n    const update = () => {\n        if (isActive) {\n            _opts.ctx = derefContext(opts.ctx, _opts.autoDerefKeys);\n            const curr = impl.normalizeTree(_opts, tree);\n            if (curr != null) {\n                if (_opts.hydrate) {\n                    impl.hydrateTree(_opts, root, curr);\n                    _opts.hydrate = false;\n                }\n                else {\n                    impl.diffTree(_opts, root, prev, curr);\n                }\n                prev = curr;\n            }\n            // check again in case one of the components called cancel\n            isActive && requestAnimationFrame(update);\n        }\n    };\n    requestAnimationFrame(update);\n    return () => (isActive = false);\n};\n"},"lineCount":null}},"error":null,"hash":"64ff2af0a5784b947fe0ecdd3c43a673","cacheData":{"env":{}}}